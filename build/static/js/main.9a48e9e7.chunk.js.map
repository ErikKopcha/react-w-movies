{"version":3,"sources":["moviesData.js","components/MovieItem.jsx","components/MovieTabs.jsx","components/Pagination.jsx","components/App.jsx","utils/api.js","index.js"],"names":["moviesData","MovieItem","state","willWatch","this","props","self","movie","removeMovie","removeMovieFromWillWatch","addMovieToWillWatch","key","id","className","src","backdrop_path","poster_path","alt","title","vote_average","type","onClick","setState","disabled","bind","React","Component","MovieTabs","nextProps","nextState","sortBy","updateSortBy","getClassLink","value","Pagination","_this","changePage","page","App","updateWillWatch","moviesWillWatch","filter","item","movies","console","log","getFilmList","prevProps","prevState","fetch","then","response","json","data","results","updateMovies","pageResult","map","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9a48e9e7.chunk.js","sourcesContent":["export const moviesData = [];","import React from \"react\";\n\nclass MovieItem extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      willWatch: false\n    };\n  }\n\n  render() {\n    const { self, movie, removeMovie, removeMovieFromWillWatch, addMovieToWillWatch } = this.props;\n\n    return (\n      <div key={movie.id} className=\"card\">\n      <img \n        className=\"card-img-top\"\n        src={`https://image.tmdb.org/t/p/w500${movie.backdrop_path || movie.poster_path || '/yOCRqvrRrxbs5FYq2pX1KtLJwmR.jpg'}`} \n        alt=\"card\"/>\n      <div className=\"card-body\">\n        <h6 className=\"card-title\">{movie.title}</h6>\n        <div className=\"d-flex justify-content-between align-items-center\">\n          <p className=\"mb-0\">Rating: {movie.vote_average}</p>\n          <button type=\"button\" className={this.state.willWatch ? \"btn btn-warning\" : \"btn btn-success\"}\n              onClick={() => {\n                this.setState({\n                  willWatch: this.state.willWatch ? false : true\n                });\n\n                this.state.willWatch ? removeMovieFromWillWatch(movie) : addMovieToWillWatch(movie)\n              }}>\n              \n              {this.state.willWatch ? 'Remove Will watch' : 'Add Will watch'}\n            </button>\n        </div>\n        <button\n          type=\"button\"\n          className=\"btn btn-danger\"\n          disabled={this.state.willWatch ? true : false}\n          onClick={removeMovie.bind(self, movie)}>\n          Delete movie\n        </button>\n      </div>\n    </div>\n    );\n  }\n}\n\nexport default MovieItem;\n","import React from \"react\";\n\nclass MovieTabs extends React.Component {\n  shouldComponentUpdate(nextProps, nextState) {\n    if (nextProps.sortBy !== this.props.sortBy) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  render() {\n    const { sortBy, updateSortBy } = this.props;\n\n    const getClassLink = (value) => {\n      return `nav-link ${sortBy === value ? 'active' : ''}`\n    }\n  \n    return (\n      <ul className=\"tabs nav nav-pills mt-3\">\n        <li className=\"nav-item\">\n          <div \n            className={ getClassLink('popularity.desc') }\n            onClick={ updateSortBy.bind(null, 'popularity.desc') }>\n            Popularity desc\n          </div>\n        </li>\n        <li className=\"nav-item\">\n          <div \n            className={ getClassLink('revenue.desc') }\n            onClick={ updateSortBy.bind(null, 'revenue.desc') }>\n            Revenue desc\n          </div>\n        </li>\n        <li className=\"nav-item\">\n          <div \n            className={ getClassLink('vote_average.desc') }\n            onClick={ updateSortBy.bind(null, 'vote_average.desc') }>\n            Vote average desc\n          </div>\n        </li>\n      </ul>\n    );\n  }\n}\n\nexport default MovieTabs;","import React from 'react';\n\nclass Pagination extends React.Component {\n  render() {\n    const { _this, changePage } = this.props;\n\n    return(\n      <div className=\"mt-3 mb-3 justify-content-center d-flex\">\n        <button \n          onClick={changePage.bind(_this, 'prev')} \n          disabled={_this.state.page === 1 ? true : false} \n          type=\"button\" \n          className=\"btn btn-info mr-3\">\n          Prev\n        </button>\n        <button \n          onClick={changePage.bind(_this, 'next')} \n          disabled={_this.state.page > 10 ? true : false} \n          type=\"button\" \n          className=\"btn btn-info\">\n          Next\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default Pagination;","import React from \"react\";\nimport { moviesData } from \"../moviesData\";\nimport MovieItem from \"./MovieItem\";\nimport { API_URL, API_KEY_3 } from \"../utils/api\";\nimport MovieTabs from './MovieTabs';\nimport Pagination from './Pagination'\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      movies: moviesData,\n      moviesWillWatch: [],\n      sortBy: \"revenue.desc\",\n      page: 1\n    };\n  }\n\n  componentDidMount() {\n    console.log('componentDidMount => ', );\n\n    this.getFilmList();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    console.log('componentDidUpdate => ', );\n    \n    if (prevState.sortBy !== this.state.sortBy || prevState.page !== this.state.page) {\n      console.log('componentDidUpdate => ', );\n\n      this.getFilmList()\n    }\n  }\n\n  componentDidUnmount() {\n    console.log('componentDidUnmount => ', );\n  }\n\n  getFilmList() {\n    console.log('getFilmList => ', this.state.sortBy);\n\n    fetch(`${API_URL}/discover/movie?api_key=${API_KEY_3}&sort_by=${this.state.sortBy}&page=${this.state.page}`)\n    .then((response) => {\n      return response.json();\n    })\n    .then((data) => {\n      this.setState({\n        movies: data.results\n      });\n    })\n  }\n\n  addMovieToWillWatch = (movie) =>  {\n    const updateWillWatch = [...this.state.moviesWillWatch, movie];\n\n    this.setState({\n      moviesWillWatch: updateWillWatch,\n    });\n  }\n\n  removeMovieFromWillWatch = (movie) => {\n    const updateWillWatch = this.state.moviesWillWatch.filter((item) => {\n      return item.id !== movie.id;\n    });\n\n    this.setState({\n      moviesWillWatch: updateWillWatch,\n    });\n  }\n\n  removeMovie(movie) {\n    const updateMovies = this.state.movies.filter((item) => {\n      return item.id !== movie.id;\n    });\n\n    this.setState({\n      movies: updateMovies\n    });\n  }\n\n  updateSortBy = (value) => {\n    this.setState({\n      sortBy: value\n    });\n  }\n\n  changePage(type) {\n    if (type === 'prev') {\n      let pageResult = this.state.page - 1;\n\n      this.setState({\n        page: pageResult\n      });\n    } else if (type === 'next') {\n      let pageResult = this.state.page + 1;\n\n      this.setState({\n        page: pageResult\n      });\n    }\n  }\n \n  render() {\n    console.log('render => ', );\n\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-9\">\n            <div className=\"row\">\n              <div className=\"col-12\">\n                <MovieTabs \n                  sortBy={this.state.sortBy} \n                  updateSortBy={this.updateSortBy} />\n              </div>\n            </div>\n            <div className=\"row\">\n              {this.state.movies.map((movie) => {\n                return (\n                  <div className=\"col-6 mt-3\">\n                    <MovieItem\n                      key={movie.id}\n                      movie={movie}\n                      removeMovie={this.removeMovie}\n                      removeMovieFromWillWatch={this.removeMovieFromWillWatch}\n                      addMovieToWillWatch={this.addMovieToWillWatch}\n                      self={this}\n                    />\n                  </div>\n                );\n              })}\n            </div>\n            <Pagination _this={this} changePage={this.changePage} />\n          </div>\n          <div className=\"col-3 mt-3 position-sticky-top\">\n            <h4>Will Watch: {this.state.moviesWillWatch.length} movies</h4>\n            <ul className=\"list-group\">\n              {this.state.moviesWillWatch.map(movie => (\n                <li key={movie.id} className=\"list-group-item\">\n                  <div className=\"d-flex justify-content-between\">\n                    <p>{movie.title}</p>\n                    <p>{movie.vote_average}</p>\n                  </div>\n                </li>\n              ))}\n            </ul>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","export const API_URL = \"https://api.themoviedb.org/3\";\n\nexport const API_KEY_3 = \"3f4ca4f3a9750da53450646ced312397\";\n\nexport const API_KEY_4 =\n  \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZjRjYTRmM2E5NzUwZGE1MzQ1MDY0NmNlZDMxMjM5NyIsInN1YiI6IjVhYzlmNWRkOTI1MTQxNjJhZTA1Njk0NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Fc4f9DVB6pFWh6hIjYe0NCC4pImdmNzDIfi_3Nb3tC4\";\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./stylesheets/index.scss\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}